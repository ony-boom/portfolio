---
const { pathname } = Astro.url;

const currentLang = pathname === "/fr" ? "fr" : "en";
const value = currentLang === "fr" ? "/" : "/fr";
---

<label class="print:hidden">
  <select value={value}>
    <option value="/fr" selected={currentLang === "fr"}>Fran√ßais</option>
    <option value="/" selected={currentLang === "en"}>English</option>
  </select>
</label>

<script>
  const select = document.querySelector("select");
  select?.addEventListener("change", (e) => {
    window.location.href = (e.target as HTMLSelectElement).value;
  });
</script>
